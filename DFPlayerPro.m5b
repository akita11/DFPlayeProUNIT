{"category":"DFPlayerPro","color":"#837c7c","blocks":["__DFPlayerPro_init","__DFPlayerPro_play","__DFPlayerPro_volume"],"jscode":"// Block __DFPlayerPro_init\nvar __DFPlayerPro_init_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"DFPlayerPro Init\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"TX\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"TX\"\n        }\n    ],\n    \"message2\": \"%1 %2\",\n    \"args2\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"RX\"\n        },\n        {\n            \"type\": \"field_number\",\n            \"value\": 0,\n            \"name\": \"RX\"\n        }\n    ],\n    \"colour\": \"#837c7c\"\n};\n\nwindow['Blockly'].Blocks['__DFPlayerPro_init'] = {\n    init: function() {\n        this.jsonInit(__DFPlayerPro_init_json);\n    }\n};\n\nwindow['Blockly'].Python['__DFPlayerPro_init'] = function(block) {\n    var TX = block.getFieldValue('TX');\nvar RX = block.getFieldValue('RX');\n    return `uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(115200, bits=8, parity=None, stop=1)\nwait(1)\nuart1.write('AT+PLAYMODE=3\\\\r\\\\n')\n\ndef _play(num):\n    uart1.write('AT+PLAYNUM='+str(num)+'\\\\r\\\\n')\n\ndef _volume(num):\n    uart1.write('AT+VOL='+str(num)+'\\\\r\\\\n')\n` + \"\\n\";\n};\n\n// Block __DFPlayerPro_play\nvar __DFPlayerPro_play_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"DFPlayerPro_Play\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"num\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"num\"\n        }\n    ],\n    \"colour\": \"#837c7c\"\n};\n\nwindow['Blockly'].Blocks['__DFPlayerPro_play'] = {\n    init: function() {\n        this.jsonInit(__DFPlayerPro_play_json);\n    }\n};\n\nwindow['Blockly'].Python['__DFPlayerPro_play'] = function(block) {\n    var num = Blockly.Python.valueToCode(block, 'num', Blockly.Python.ORDER_NONE);\n    return `_play(${num})\n` + \"\\n\";\n};\n\n// Block __DFPlayerPro_volume\nvar __DFPlayerPro_volume_json = {\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"message0\": \"%1\",\n    \"args0\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"DFPlayePro_Volume\"\n        }\n    ],\n    \"message1\": \"%1 %2\",\n    \"args1\": [\n        {\n            \"type\": \"field_label\",\n            \"text\": \"vol\"\n        },\n        {\n            \"type\": \"input_value\",\n            \"name\": \"vol\"\n        }\n    ],\n    \"colour\": \"#837c7c\"\n};\n\nwindow['Blockly'].Blocks['__DFPlayerPro_volume'] = {\n    init: function() {\n        this.jsonInit(__DFPlayerPro_volume_json);\n    }\n};\n\nwindow['Blockly'].Python['__DFPlayerPro_volume'] = function(block) {\n    var vol = Blockly.Python.valueToCode(block, 'vol', Blockly.Python.ORDER_NONE);\n    return `_volume(${vol})` + \"\\n\";\n};\n\n","code":{"init":["window['Blockly'].Python['__DFPlayerPro_init'] = function(block) {\n    var TX = block.getFieldValue('TX');\nvar RX = block.getFieldValue('RX');\n    return `uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(115200, bits=8, parity=None, stop=1)\nwait(1)\nuart1.write('AT+PLAYMODE=3\\\\r\\\\n')\n\ndef _play(num):\n    uart1.write('AT+PLAYNUM='+str(num)+'\\\\r\\\\n')\n\ndef _volume(num):\n    uart1.write('AT+VOL='+str(num)+'\\\\r\\\\n')\n` + \"\\n\";\n};\n\n","uart1 = machine.UART(1, tx=${TX}, rx=${RX})\nuart1.init(115200, bits=8, parity=None, stop=1)\nwait(1)\nuart1.write('AT+PLAYMODE=3\\\\r\\\\n')\n\ndef _play(num):\n    uart1.write('AT+PLAYNUM='+str(num)+'\\\\r\\\\n')\n\ndef _volume(num):\n    uart1.write('AT+VOL='+str(num)+'\\\\r\\\\n')\n"],"play":["window['Blockly'].Python['__DFPlayerPro_play'] = function(block) {\n    var num = Blockly.Python.valueToCode(block, 'num', Blockly.Python.ORDER_NONE);\n    return `_play(${num})\n` + \"\\n\";\n};\n\n","_play(${num})\n"],"volume":["window['Blockly'].Python['__DFPlayerPro_volume'] = function(block) {\n    var vol = Blockly.Python.valueToCode(block, 'vol', Blockly.Python.ORDER_NONE);\n    return `_volume(${vol})` + \"\\n\";\n};\n\n","_volume(${vol})"]}}